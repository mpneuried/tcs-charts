<!DOCTYPE html>
<html>
<head>

<!--[if gte IE 9]><!-->
<script src="../components/mbostock-d3/d3.js" type="text/javascript"></script>
<script src="../js/libs/dat.gui.min.js"></script>
<!--<![endif]-->
<script src="../tcscharts.js"></script>
<meta charset=utf-8 />
<title>Gauge Test</title>
</head>
<body>
  <div id="test"></div>
</body>
<script>
(function(){
	var Gauge;
	if( window.require != undefined ){
		Gauge = require( "tcs-charts" ).Gauge
	}else {
		Gauge = tcscharts.Gauge
	}

	window.gauge = new Gauge( "#test", 50, { width: 750 } );

	if( window.gauge instanceof Error ){
		alert( window.gauge );
	}

	var fn = function(){
	  window.gauge.value = Math.random() * 100
	  return
	}
	setInterval( fn, 3000 )
})()
</script>
<!--[if gte IE 9]><!--> 
<script>
(function(){
	var gui = new dat.GUI()

	gui.add( window.gauge, 'value', 0, 100).listen(); 

	var f2 = gui.addFolder('Metrics') 
	f2.add( window.gauge, 'width', 30, 800); 
	f2.add( window.gauge, 'margin', 0, 50); 
	f2.add( window.gauge, 'thicknessFactor', .35, 2);
	f2.add( window.gauge, 'needleLengthFactor', .35, 2); 
	f2.add( window.gauge, 'startAngle', -90, 90);
	f2.add( window.gauge, 'endAngle', -90, 90); 

	var f3 = gui.addFolder('Colors') 
	f3.addColor( window.gauge, 'bgColor');
	f3.addColor( window.gauge, 'startColor');
	f3.addColor( window.gauge, 'endColor'); 

	gui.add( window.gauge, 'animationDuration', 100, 1000);         

})()
</script>
<!--<![endif]-->
</html>